# 底层网络知识详解-MAC层

1. MAC层是用来解决多路访问堵车问题的
2. ARP（地址解析协议）是通过吼（广播）的方式来寻找目标MAC地址的，吼完之后记住一段时间，这个叫缓存
3. 交换机是有 MAC 地址学习能力的，学完了它就知道谁在哪儿了，不用广播了


### 思考题
1. **在二层中我们讲了 ARP 协议，即已知 IP 地址求 MAC；还有一种 RARP 协议，即已知 MAC 求 IP 的，你知道它可以用来干什么吗？**
 RARP（Reverse Address Resolution Protocol）逆地址解析协议，已知MAC地址，求IP地址
 工作原理：
* 发送主机发送一个本地的RARP广播，在此广播包中，声明自己的MAC地址并且请求任何收到此请求的RARP服务器分配一个IP地址；

* 本地网段上的RARP服务器收到此请求后，检查其RARP列表，查找该MAC地址对应的IP地址；

* 如果存在，RARP服务器就给源主机发送一个响应数据包并将此IP地址提供给对方主机使用；

* 如果不存在，RARP服务器对此不做任何的响应；

2. **如果一个局域网里面有多个交换机，ARP 广播的模式会出现什么问题呢？**
ARP广播时，交换机会将一个端口收到的包转发到其它所有的端口上。
比如数据包经过交换机A到达交换机B，交换机B又将包复制为多份广播出去。
如果整个局域网存在一个环路，使得数据包又重新回到了最开始的交换机A，这个包又会被A再次复制多份广播出去。
如此循环，数据包会不停得转发，而且越来越多，最终占满带宽，或者使解析协议的硬件过载，行成广播风暴。