# 通信协议综述

## 摘要
### 协议的三要素
语法、语义、顺序
### 网络数据表的结构
MAC头：客户端MAC、网关MAC
IP头	：客户端IP、目标服务器IP
TCP头：浏览器端口12345、应用端口（80/443）
HTTP头：POST,URL,HTTP1.1,ContentType，ContentLength, User-Agent
### 常见或常用的网络协议
应用层：DHCP, HTTP, HTTPS, RTMP, P2P, DNS, GTP, RPC
传输层：UDP, TCP
网络层：ICMP, IP, OSPF, BGP
链路层：ARP, VLAN, STP
物理层：网线

## 思考题
### 当网络包到达一个网关后，可以通过路由表得到下一个网关的IP地址，直接通过IP地址找就可以了，为什么还要通过本地的mac地址寻找呢？

> 局域网内IP地址是动态分配的，假如我是192.168.2.100，如果我下线了，可能IP就分配给了另一台电脑。IP和设备并不总是对应的，但MAC地址不用，mac地址和设备是一一对应且全球唯一的。所以局域网使用mac地址寻找设备。  

### 有了MAC为何还要IP地址呢？
> 1. MAC地址本身的缺陷：因为MAC地址是硬件提供商写在网卡中的，MAC地址虽然唯一但是不能表明用户在整个互联网中的位置，除非维护一个超级大MAC地址对应表，那寻址效率肯定爆炸。但是IP地址解决了这个问题，因为IP地址是网络提供商给你的，所以你在哪里整个网络都是知道的。  
> 2. mac地址相当于人的身份证号，IP地址相当于住址，住址可以变，但身份证号不会变，只通过身份证号找不到这个人，所以还需要IP才能找到  